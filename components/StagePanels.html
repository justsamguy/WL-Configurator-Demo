<!-- Option Card Template (used for all stage rendering) -->
<template id="option-card-tpl">
  <button class="option-card" role="button" tabindex="0">
    <div class="viewer-placeholder-img" style="height:64px;background:#f3f4f6;"></div>
    <div class="title-price-row">
      <div class="title"></div>
      <div class="price-delta"></div>
    </div>
    <div class="description"></div>
  </button>
</template>

<!-- Accessibility live region for status messages -->
<div id="stage-status-live" role="status" aria-live="polite" aria-atomic="true" class="sr-only"></div>

<!-- Stage Panels Placeholder: panels are identified by id="stage-panel-<index>" -->
<div id="stage-panels-root" class="flex flex-col gap-4 px-6 py-6">
  <!-- Stage 0: Select Model -->
  <section id="stage-panel-0" class="stage-panel">
    <div id="stage-0-placeholder"></div>
  </section>

  <!-- Stage 1: Materials -->
  <section id="stage-panel-1" class="stage-panel" style="display: none;">
    <!-- Materials options are provided via components/MaterialsPanel.html (included in the sidebar) -->
  </section>

  <!-- Stage 2: Finish -->
  <section id="stage-panel-2" class="stage-panel" style="display: none;">
    <h3 class="text-md font-semibold mb-2">Finish</h3>
    <div id="finish-options" class="">
      <h4 class="text-sm font-semibold mb-2">Coating</h4>
      <div class="stage-options-grid mb-4" id="finish-coating-options">
        <!-- Rendered by stages/finish.js from data/finish.json -->
      </div>

      <h4 class="text-sm font-semibold mb-2">Sheen</h4>
      <div class="stage-options-grid" id="finish-sheen-options">
        <!-- Rendered by stages/finish.js from data/finish.json -->
      </div>
    </div>
  </section>

  <!-- Stage 3: Dimensions -->
  <section id="stage-panel-3" class="stage-panel" style="display: none;">
    <h3 class="text-md font-semibold mb-2">Dimensions</h3>
    <div id="dimensions-options" class="stage-options-grid">
      <!-- Rendered by stages/dimensions.js from data/dimensions.json -->
    </div>
  </section>

  <!-- Stage 4: Legs -->
  <section id="stage-panel-4" class="stage-panel" style="display: none;">
    <h3 class="text-md font-semibold mb-2">Legs</h3>
    <div id="legs-options" class="stage-options-grid">
      <!-- Rendered by stages/legs.js from data/legs.json -->
    </div>

    <!-- Tube Size tiles (rendered by stages/legs.js) -->
    <h4 class="text-sm font-semibold mt-4 mb-2">Tube size</h4>
    <div id="tube-size-options" class="stage-options-grid">
      <!-- Rendered by stages/legs.js -->
    </div>
  </section>

  <!-- Stage 5: Add-ons -->
  <section id="stage-panel-5" class="stage-panel" style="display: none;">
    <h3 class="text-md font-semibold mb-2">Add‑ons</h3>
    <div id="addons-options" class="stage-options-grid">
      <!-- Rendered by stages/addons.js from data/addons.json -->
    </div>
  </section>

  <!-- Stage 6: Summary & Export -->
  <section id="stage-panel-6" class="stage-panel" style="display: none;">
    <h3 class="text-md font-semibold mb-2">Summary &amp; Export</h3>
    <div id="summary-panel" class="grid grid-cols-1 gap-4">
      <div class="text-sm text-gray-700">
        <p><strong>Selected:</strong> Model mdl-01 • Black Walnut • Satin Lacquer • Medium (180x90) • Cube legs</p>
        <p class="mt-2"><strong>Price breakdown</strong></p>
        <ul class="text-sm text-gray-600 list-disc pl-5">
          <li>Base model: $9,800</li>
          <li>Material (Black Walnut): +$250</li>
          <li>Finish (Satin): +$0</li>
          <li>Dimensions (Medium): +$150</li>
          <li>Legs (Cube): +$95</li>
          <li>Add-ons: +$45</li>
        </ul>
        <p class="mt-2 text-lg font-semibold">Total: $10,380</p>
      </div>
      <div>
        <button class="btn btn-primary">Export PDF</button>
        <button class="btn ml-2">Copy Summary</button>
      </div>
    </div>
  </section>
</div>
